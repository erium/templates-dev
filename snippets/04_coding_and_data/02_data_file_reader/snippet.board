{"version":"1.2","nodes":[{"id":"34bd73cb-9e20-4828-95ef-0edb35989d4d","type":"note","position":{"x":220,"y":650},"size":{"width":540,"height":698.7272727272727},"type_specific":{"message":"### Step-by-Step Instructions for Handling Excel and CSV Files\n\n#### 1. Data Understanding Assistance\n\n##### Step 1: Identify and Understand the Data Format\n- **Goal:** Understand the user's data and what they want to achieve.\n- **Actions:**\n  1. **Initial Inquiry:** Ask the user what they want to achieve from this task. If they are unsure, ask how many files they have and the type of file.\n  2. **File Type Identification:** If the user is unaware of the type of data, ask for the file extension (e.g., CSV, JSON, Excel, etc.). If they are still unsure, guide them to upload the file to the Halerium board.\n  3. **Loading Data:** Once the file type is identified, generate the appropriate Python code to load the data into a pandas DataFrame.\n\n##### Loading Excel Files\n```python\nimport pandas as pd\n\nfilepath = 'path/to/your/datafile.xlsx'  # Replace with your file path\ndf = pd.read_excel(filepath)\n```\n\n##### Loading CSV Files\nFor CSV files, several common issues can arise. Here are some solutions:\n\n1. **Delimiter Issues:**\n   ```python\n   df = pd.read_csv(file_path, delimiter=';')  # Specify the correct delimiter\n   ```\n\n2. **Encoding Issues:**\n   ```python\n   df = pd.read_csv(file_path, encoding='ISO-8859-1')  # Specify the correct encoding\n   ```\n\n3. **Header Issues:**\n   ```python\n   df = pd.read_csv(file_path, header=1)  # If the actual header is the second row\n   df = pd.read_csv(file_path, header=None)  # If there is no header row\n   ```\n\n4. **Missing or Extra Columns:**\n   ```python\n   df = pd.read_csv(file_path, error_bad_lines=False)  # Skip problematic lines\n   ```\n\n5. **Mixed Data Types:**\n   ```python\n   df = pd.read_csv(file_path, dtype={'column_name': str})  # Specify data types if needed\n   ```\n\n6. **Special Characters:**\n   Ensure the correct encoding is used and handle special characters appropriately.\n\n7. **Large Files:**\n   ```python\n   for chunk in pd.read_csv(file_path, chunksize=10000):\n       process(chunk)\n   ```\n\n8. **Irregular Structure:**\n   ```python\n   df = pd.read_csv(file_path, skiprows=[0, 2])  # Skip specific rows\n   ```\n\n##### Example Code to Handle Common Issues in CSV Files\n```python\nimport pandas as pd\n\n# Specify the file path\nfile_path = '/path/to/your/csvfile.csv'\n\n# Read the CSV file with appropriate parameters\ndf = pd.read_csv(\n    file_path,\n    delimiter=';',  # Specify the correct delimiter\n    encoding='ISO-8859-1',  # Specify the correct encoding\n    header=1,  # Specify the correct header row\n    error_bad_lines=False,  # Skip problematic lines\n    dtype={'column_name': str}  # Specify data types if needed\n)\n\n# Display the first few rows of the DataFrame\nprint(df.head())\n```\n\n##### Step 2: Interpret the Data Structure\n- **Goal:** Understand the structure and content of the data.\n- **Actions:**\n  1. **View Data:** Use `df.head()` to view the first few rows of the DataFrame.\n  2. **Identify Columns and Data Types:** Use `df.info()` to identify the columns and their data types.\n  3. **Summary:** Generate a summary about the data structure and formulate a plan to proceed with the dataset (e.g., cleaning, merging, or suggesting a model).\n\n#### 2. Data Cleaning Advice\n\n##### Step 1: Check for Missing Values and Duplicates\n- **Goal:** Clean the data by handling missing values and duplicates.\n- **Actions:**\n  1. **Identify Missing Values:** Use `df.isnull().sum()` to check for missing values.\n  2. **Identify Duplicates:** Use `df.duplicated().sum()` to check for duplicate rows.\n  3. **Decision Making:** Decide whether to fill missing values, drop them, or drop duplicate rows based on the user's analysis needs.\n\n##### Step 2: Merging Different Files (if applicable)\n- **Goal:** Merge data from different files if needed.\n- **Actions:**\n  1. **User Input:** Check with the user how they would like to merge the files.\n  2. **Code Generation:** Generate the necessary code to merge the files and understand the dataset before providing advice.","title":"Instructions","color":"note-color-3","auto_size":false,"attachments":{}}},{"id":"8f2eddd0-f3c9-4d5a-a0f3-208f9c62dea4","type":"setup","position":{"x":350,"y":1402},"size":{"width":280,"height":510},"type_specific":{"bot_type":"chat-gpt-40-deterministic","setup_args":{"system_setup":"Important: Only output the final code that is sucessful after trying the different methods","default_functions":["websearch"],"runner_functions":[],"temperature":0},"auto_size":false}},{"id":"e0d2df7c-d252-4dd9-b2a4-fcc4d6fc5f19","type":"bot","position":{"x":710,"y":1402},"size":{"width":520,"height":515.9166564941406},"type_specific":{"prompt_input":"list the files in the current directory","prompt_output":"","state":"success","split_size":[10.083138706921105,89.9168612930789],"auto_size":false,"attachments":{}}},{"id":"b80b32e5-1083-44ec-b565-e53cbe670f76","type":"bot","position":{"x":1300,"y":1402},"size":{"width":560,"height":520.1146233298562},"type_specific":{"prompt_input":"Read the file given in the context card. If you face errors use the different methods defined to debug it\n","prompt_output":"","state":"success","split_size":[10.734583401149095,89.2654165988509],"auto_size":false,"attachments":{}}},{"id":"9d135fb0-2b38-45d4-93e5-263bee1a141c","type":"bot","position":{"x":1960,"y":1402},"size":{"width":520,"height":515.9166395399305},"type_specific":{"prompt_input":"Suggest and perform the necessary data cleaning steps required for this file","prompt_output":"","state":"success","split_size":[10.984927027673663,89.01507297232634],"auto_size":false,"attachments":{}}},{"id":"ce81509d-8058-49e5-94e3-93ddf034bc23","type":"note","position":{"x":1280,"y":1130},"size":{"width":340,"height":220},"type_specific":{"message":"[Name of the file to read]\n\n[Additional instructions about the file if known i.e: Use , as delimiter and ; as decimal]\n\n","title":"File name and instructions","color":"note-color-5","auto_size":false,"attachments":{}}},{"id":"f8bdf406-4fb9-4aae-8918-db0c5457447c","type":"note","position":{"x":3140,"y":1150},"size":{"width":330,"height":200},"type_specific":{"message":"Name of the file: ","title":"Destination file","color":"note-color-5","auto_size":false,"attachments":{}}},{"id":"bc073e5f-33d0-4fb2-a5aa-84a183b03f59","type":"bot","position":{"x":3180,"y":1402},"size":{"width":520,"height":512.1406021118164},"type_specific":{"prompt_input":"Save the file! Make sure you use the current working directory and use the full, absolute path to it. check the cwd before you just save files to anywhere!","prompt_output":"","state":"success","split_size":[11.756775936458112,88.24322406354189],"auto_size":false,"attachments":{}}},{"id":"467eb932-30a1-42a2-8e43-44609ac5211b","type":"note","position":{"x":2540,"y":1140},"size":{"width":340,"height":210},"type_specific":{"message":"Example: \n    - Rename column 1 to \"Name\"","title":"Additional Data Cleaning steps","color":"note-color-5","auto_size":false,"attachments":{}}},{"id":"081da52f-dbf0-4294-8d37-032f2c9d1c47","type":"bot","position":{"x":2570,"y":1402},"size":{"width":520,"height":518.0000140850361},"type_specific":{"prompt_input":"Perform the all the above mentioned data cleaning steps","prompt_output":"","state":"success","split_size":[10.818628141744085,89.18137185825591],"auto_size":false,"attachments":{}}}],"edges":[{"id":"1da8711c-f360-45ed-a458-2eca8e006c6a","type":"prompt_line","connections":{"source":{"connector":"prompt-output","id":"8f2eddd0-f3c9-4d5a-a0f3-208f9c62dea4"},"target":{"connector":"prompt-input","id":"e0d2df7c-d252-4dd9-b2a4-fcc4d6fc5f19"}},"type_specific":{}},{"id":"9b3904c6-1fcb-42da-a125-a48a81789f73","type":"prompt_line","connections":{"source":{"connector":"prompt-output","id":"e0d2df7c-d252-4dd9-b2a4-fcc4d6fc5f19"},"target":{"connector":"prompt-input","id":"b80b32e5-1083-44ec-b565-e53cbe670f76"}},"type_specific":{}},{"id":"20f15f6e-07f5-4cdc-9416-92ebbc482266","type":"prompt_line","connections":{"source":{"connector":"prompt-output","id":"b80b32e5-1083-44ec-b565-e53cbe670f76"},"target":{"connector":"prompt-input","id":"9d135fb0-2b38-45d4-93e5-263bee1a141c"}},"type_specific":{}},{"id":"d8f8e7b6-341b-442a-9193-b0d11c289f7b","type":"solid_arrow","connections":{"source":{"connector":"note-bottom","id":"34bd73cb-9e20-4828-95ef-0edb35989d4d"},"target":{"connector":"context-input","id":"8f2eddd0-f3c9-4d5a-a0f3-208f9c62dea4"}},"type_specific":{}},{"id":"20db4ea6-22b3-4ca9-8d64-6d9bc10cf1f1","type":"solid_arrow","connections":{"source":{"connector":"note-bottom","id":"f8bdf406-4fb9-4aae-8918-db0c5457447c"},"target":{"connector":"context-input","id":"bc073e5f-33d0-4fb2-a5aa-84a183b03f59"}},"type_specific":{}},{"id":"5e280ae0-da15-4349-8a3d-81bc133725e8","type":"prompt_line","connections":{"source":{"connector":"prompt-output","id":"9d135fb0-2b38-45d4-93e5-263bee1a141c"},"target":{"connector":"prompt-input","id":"081da52f-dbf0-4294-8d37-032f2c9d1c47"}},"type_specific":{}},{"id":"678ffd57-dcfc-484e-a1bb-3b93d191b114","type":"prompt_line","connections":{"source":{"connector":"prompt-output","id":"081da52f-dbf0-4294-8d37-032f2c9d1c47"},"target":{"connector":"prompt-input","id":"bc073e5f-33d0-4fb2-a5aa-84a183b03f59"}},"type_specific":{}},{"id":"fcc92f96-aa69-45c3-8071-40dda3d119e3","type":"solid_arrow","connections":{"source":{"connector":"note-bottom","id":"467eb932-30a1-42a2-8e43-44609ac5211b"},"target":{"connector":"context-input","id":"081da52f-dbf0-4294-8d37-032f2c9d1c47"}},"type_specific":{}},{"id":"788d44d3-3f2e-4c8e-a975-2fc3b6a9b784","type":"solid_arrow","connections":{"source":{"connector":"note-bottom","id":"ce81509d-8058-49e5-94e3-93ddf034bc23"},"target":{"connector":"context-input","id":"b80b32e5-1083-44ec-b565-e53cbe670f76"}},"type_specific":{}}]}